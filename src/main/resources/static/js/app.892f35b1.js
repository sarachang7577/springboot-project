(function(e){function t(t){for(var l,u,o=t[0],s=t[1],i=t[2],d=0,r=[];d<o.length;d++)u=o[d],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&r.push(c[u][0]),c[u]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);b&&b(t);while(r.length)r.shift()();return n.push.apply(n,i||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],l=!0,o=1;o<a.length;o++){var s=a[o];0!==c[s]&&(l=!1)}l&&(n.splice(t--,1),e=u(u.s=a[0]))}return e}var l={},c={app:0},n=[];function u(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.m=e,u.c=l,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)u.d(a,l,function(t){return e[t]}.bind(null,l));return a},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var b=s;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"08f0":function(e,t,a){"use strict";a("2293")},2293:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var l=a("7a23"),c=(a("14d9"),a("eeae")),n=a("c982"),u=a("8398"),o=a("bb57"),s=a("b6fa"),i=a("5b2c"),b=a("6f85"),d=a("5bd2"),r=a("bc3a"),j=a.n(r);const O="http://localhost:8080",m=e=>j.a.post(O+"/stations",e),p=()=>j.a.get(O+"/stations"),v=(e,t)=>j.a.put(O+"/stations/"+e,t),f=e=>j.a.delete(O+"/stations/"+e),h=e=>j.a.get(O+"/stations/nurses/"+e),y=e=>j.a.post(O+"/nurses",e),C=()=>j.a.get(O+"/nurses"),I=(e,t)=>j.a.put(O+"/nurses/"+e,t),g=e=>j.a.delete(O+"/nurses/"+e),_=e=>j.a.get(O+"/nurses/stations/"+e),E={class:"flex justify-content-center"},k={class:"col-12 md:col-6"},w={class:"p-inputgroup"},x=Object(l["j"])("h2",null,"站點列表",-1),N={class:"flex-column justify-content-center"},V={class:"align-items-center"},D={class:"mb-2"},A=Object(l["j"])("label",{for:"username2"},"員工編號：",-1),U={class:"mb-2"},S=Object(l["j"])("label",{for:"username2"},"護士姓名：",-1),F=Object(l["j"])("h3",null,"選取站點",-1),P={class:"align-items-center mb-4"},M=Object(l["l"])(" 全部站點 "),L=Object(l["l"])(" 已選站點 "),K={class:"product-item border-bottom-2"},T={class:"product-list-detail"},q=Object(l["j"])("h2",null,"護士列表",-1),z={class:"flex-column justify-content-center"},J={class:"align-items-center mb-2"},Y=Object(l["j"])("label",null,"站點名稱：",-1),B=Object(l["j"])("h2",null,"站點護士列表",-1),G={class:"flex-column justify-content-center"},H={class:"align-items-center mb-2"},Q={class:"mb-2"},R=Object(l["j"])("label",null,"員工編號：",-1),W=Object(l["j"])("label",null,"護士姓名：",-1),X=Object(l["j"])("h3",null,"選取站點",-1),Z={class:"mb-4"},$=Object(l["l"])(" 全部站點 "),ee=Object(l["l"])(" 已選站點 "),te={class:"product-item border-bottom-2"},ae={class:"product-list-detail"},le={class:"confirmation-content"},ce=Object(l["j"])("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ne=Object(l["l"])("是否確認刪除 "),ue=Object(l["l"])("?"),oe={class:"confirmation-content"},se=Object(l["j"])("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ie=Object(l["l"])("是否確認刪除 "),be=Object(l["l"])("?");var de={__name:"App",setup(e){const t=Object(l["u"])("SIMPLE SYSTEM DEMO"),a=Object(l["u"])([]),r=Object(l["u"])([]),j=Object(l["u"])([]),O=Object(l["u"])([]),de=Object(l["u"])(!1),re=Object(l["u"])(!1),je=Object(l["u"])(!1),Oe=Object(l["u"])(!1),me=Object(l["u"])({stationId:-1,stationName:"",updatedDate:"",nurse_in_station:[]}),pe=Object(l["u"])({nurseId:-1,employeeId:"",nurseName:"",updatedDate:""});async function ve(){await p().then(e=>{e.data&&(a.value=e.data,j.value[0]=e.data,j.value[1]=[],O.value=e.data)}),await C().then(e=>{r.value=e.data}),await fe()}function fe(){O.value.forEach((e,t,a)=>{_(e.stationId).then(e=>{a[t].nurse_in_station=e.data})})}j.value=[[],[]],Object(l["r"])(()=>{ve()});const he=()=>{me.value.stationId=-1,me.value.stationName="",me.value.updatedDate="",me.value.nurse_in_station=[]},ye=()=>{pe.value.nurseId=-1,pe.value.employeeId="",pe.value.nurseName="",pe.value.createdDate="",pe.value.updatedDate=""};function Ce(){m(me.value).then(e=>{e.data&&(he(),ve())})}function Ie(){v(me.value.stationId,me.value).then(e=>{e.data&&(console.log(e.data),Array.isArray(a.value)&&a.value.forEach((t,a,l)=>{e.data.stationId==t.stationId&&(l[a].stationName=e.data.stationName,l[a].updatedDate=e.data.updatedDate,re.value=!1)}),he())})}function ge(){let e={...pe.value},t=[];Array.isArray(j.value[1])&&j.value[1].forEach(a=>{t.push({stationId:a.stationId,nurseId:e.nurseId})}),e.middleList=t,y(e).then(e=>{e.data&&(ye(),ve())})}function _e(){console.log(pe.value);let e={...pe.value},t=[];Array.isArray(j.value[1])&&j.value[1].forEach(a=>{t.push({stationId:a.stationId,nurseId:e.nurseId})}),console.log(j.value[1]),e.middleList=t,I(e.nurseId,e).then(e=>{e.data&&(Array.isArray(r.value)&&r.value.forEach((t,a,l)=>{e.data.nurseId==t.nurseId&&(l[a].nurseName=e.data.nurseName,de.value=!1)}),ye(),ve())})}const Ee=e=>{me.value={...e},re.value=!0},ke=e=>{pe.value={...e},h(pe.value.nurseId).then(e=>{let t=[...e.data];t.forEach(e=>{j.value[0].forEach((t,a,l)=>{t.stationId==e.stationId&&(j.value[0].splice(a,1),console.log(j.value[0]))})}),j.value[1]=[...e.data]}),de.value=!0},we=e=>{let t={...e};t.stationName?(me.value=t,je.value=!0):(pe.value=t,Oe.value=!0)},xe=e=>{"station"===e?(je.value=!1,f(me.value.stationId).then(e=>{ve(),he()})):"nurse"==e&&(Oe.value=!1,g(pe.value.nurseId).then(e=>{ve(),ye()}))};return(e,a)=>(Object(l["s"])(),Object(l["i"])(l["a"],null,[Object(l["j"])("h1",null,Object(l["A"])(t.value),1),Object(l["m"])(Object(l["C"])(c["a"]),{onTabChange:a[5]||(a[5]=e=>{ve(),ye(),he()})},{default:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(n["a"]),{header:"站點列表",key:"tab_station"},{default:Object(l["E"])(()=>[Object(l["j"])("div",E,[Object(l["j"])("div",k,[Object(l["j"])("div",w,[Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{type:"text",placeholder:"請輸入站點名稱",value:"",onClick:he},null,512),[[l["D"],me.value.stationId>=0]]),Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{placeholder:"請輸入站點名稱",type:"text",modelValue:me.value.stationName,"onUpdate:modelValue":a[0]||(a[0]=e=>me.value.stationName=e)},null,8,["modelValue"]),[[l["D"],-1==me.value.stationId]]),Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-plus",label:"新增",class:"p-button-success",onClick:a[1]||(a[1]=e=>Ce(me.value))})])])]),x,Object(l["m"])(Object(l["C"])(i["a"]),{value:O.value,dataKey:"stationId",paginator:!0,rows:10,responsiveLayout:"scroll"},{default:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(b["a"]),{field:"stationName",header:"站點名稱",sortable:!0,style:{"min-width":"16rem"}}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"updatedDate",header:"修改時間",sortable:!0,style:{"min-width":"16rem"}}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"nurse_in_station",header:"站點護士列表",sortable:!0,style:{"min-width":"12rem"}},{body:Object(l["E"])(e=>[(Object(l["s"])(!0),Object(l["i"])(l["a"],null,Object(l["v"])(e.data[e.field],e=>(Object(l["s"])(),Object(l["g"])(Object(l["C"])(o["a"]),{key:e.nurseId,label:e.employeeId,class:"p-button-raised p-button-text p-button-plain mr-2",disabled:"disabled"},null,8,["label"]))),128))]),_:1}),Object(l["m"])(Object(l["C"])(b["a"]),{exportable:!1,style:{"min-width":"8rem"}},{body:Object(l["E"])(e=>[Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:t=>Ee(e.data)},null,8,["onClick"]),Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:t=>we(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),_:1}),Object(l["m"])(Object(l["C"])(n["a"]),{header:"新增護士",key:"tab_new_nurse"},{default:Object(l["E"])(()=>[Object(l["j"])("div",N,[Object(l["j"])("div",V,[Object(l["j"])("div",D,[A,Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{type:"text",placeholder:"請輸入員工編號",value:"",onClick:ye},null,512),[[l["D"],pe.value.nurseId>=0]]),Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{placeholder:"請輸入員工編號",type:"text",modelValue:pe.value.employeeId,"onUpdate:modelValue":a[2]||(a[2]=e=>pe.value.employeeId=e)},null,8,["modelValue"]),[[l["D"],-1==pe.value.nurseId]])]),Object(l["j"])("div",U,[S,Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{placeholder:"請輸入護士名稱",type:"text",value:"",onClick:ye},null,512),[[l["D"],pe.value.nurseId>=0]]),Object(l["F"])(Object(l["m"])(Object(l["C"])(u["a"]),{placeholder:"請輸入護士名稱",type:"text",modelValue:pe.value.nurseName,"onUpdate:modelValue":a[3]||(a[3]=e=>pe.value.nurseName=e)},null,8,["modelValue"]),[[l["D"],-1==pe.value.nurseId]])]),F,Object(l["j"])("div",P,[Object(l["m"])(Object(l["C"])(s["a"]),{modelValue:j.value,"onUpdate:modelValue":a[4]||(a[4]=e=>j.value=e),listStyle:"height:35vh",dataKey:"stationId"},{sourceheader:Object(l["E"])(()=>[M]),targetheader:Object(l["E"])(()=>[L]),item:Object(l["E"])(e=>[Object(l["j"])("div",K,[Object(l["j"])("div",T,[Object(l["j"])("h3",null,Object(l["A"])(e.item.stationName),1)])])]),_:1},8,["modelValue"])]),Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-plus",label:"新增",class:"p-button-lg p-button-success block w-full",onClick:ge})])])]),_:1}),Object(l["m"])(Object(l["C"])(n["a"]),{header:"護士列表",key:"tab_nurse"},{default:Object(l["E"])(()=>[q,Object(l["m"])(Object(l["C"])(i["a"]),{value:r.value,dataKey:"nurseId",paginator:!0,rows:10,responsiveLayout:"scroll"},{default:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(b["a"]),{field:"nurseId",header:"員工編號",style:{"min-width":"16rem"}}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"nurseName",header:"姓名",style:{"min-width":"16rem"}}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"updatedDate",header:"修改時間",style:{"min-width":"16rem"}}),Object(l["m"])(Object(l["C"])(b["a"]),{exportable:!1,style:{"min-width":"8rem"}},{body:Object(l["E"])(e=>[Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:t=>ke(e.data)},null,8,["onClick"]),Object(l["m"])(Object(l["C"])(o["a"]),{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:t=>we(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),Object(l["m"])(Object(l["C"])(d["a"]),{visible:re.value,"onUpdate:visible":a[8]||(a[8]=e=>re.value=e),header:"編輯站點資料",modal:!0,style:{width:"50vw"}},{footer:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(o["a"]),{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:a[7]||(a[7]=e=>re.value=!1)}),Object(l["m"])(Object(l["C"])(o["a"]),{label:"修改",icon:"pi pi-check",class:"p-button-text",onClick:Ie})]),default:Object(l["E"])(()=>[Object(l["j"])("div",z,[Object(l["j"])("div",J,[Object(l["j"])("div",null,[Y,Object(l["m"])(Object(l["C"])(u["a"]),{modelValue:me.value.stationName,"onUpdate:modelValue":a[6]||(a[6]=e=>me.value.stationName=e),required:"true",autofocus:""},null,8,["modelValue"])]),B,Object(l["m"])(Object(l["C"])(i["a"]),{value:me.value.nurse_in_station,responsiveLayout:"scroll"},{default:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(b["a"]),{field:"employeeId",header:"員工編號"}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"nurseName",header:"護士姓名"}),Object(l["m"])(Object(l["C"])(b["a"]),{field:"updatedDate",header:"更新時間"})]),_:1},8,["value"])])])]),_:1},8,["visible"]),Object(l["m"])(Object(l["C"])(d["a"]),{visible:de.value,"onUpdate:visible":a[13]||(a[13]=e=>de.value=e),header:"編輯護士資料",modal:!0,style:{width:"70vw"}},{footer:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(o["a"]),{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:a[12]||(a[12]=e=>de.value=!1)}),Object(l["m"])(Object(l["C"])(o["a"]),{label:"修改",icon:"pi pi-check",class:"p-button-text",onClick:_e})]),default:Object(l["E"])(()=>[Object(l["j"])("div",G,[Object(l["j"])("div",H,[Object(l["j"])("div",Q,[R,Object(l["m"])(Object(l["C"])(u["a"]),{modelValue:pe.value.employeeId,"onUpdate:modelValue":a[9]||(a[9]=e=>pe.value.employeeId=e),required:"true",autofocus:""},null,8,["modelValue"])]),Object(l["j"])("div",null,[W,Object(l["m"])(Object(l["C"])(u["a"]),{modelValue:pe.value.nurseName,"onUpdate:modelValue":a[10]||(a[10]=e=>pe.value.nurseName=e),required:"true",autofocus:""},null,8,["modelValue"])])])]),X,Object(l["j"])("div",Z,[Object(l["m"])(Object(l["C"])(s["a"]),{modelValue:j.value,"onUpdate:modelValue":a[11]||(a[11]=e=>j.value=e),listStyle:"height:35vh",dataKey:"stationId"},{sourceheader:Object(l["E"])(()=>[$]),targetheader:Object(l["E"])(()=>[ee]),item:Object(l["E"])(e=>[Object(l["j"])("div",te,[Object(l["j"])("div",ae,[Object(l["j"])("h3",null,Object(l["A"])(e.item.stationName),1)])])]),_:1},8,["modelValue"])])]),_:1},8,["visible"]),Object(l["m"])(Object(l["C"])(d["a"]),{visible:je.value,"onUpdate:visible":a[16]||(a[16]=e=>je.value=e),style:{width:"450px"},header:"警告",modal:!0},{footer:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(o["a"]),{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:a[14]||(a[14]=e=>je.value=!1)}),Object(l["m"])(Object(l["C"])(o["a"]),{label:"確認",icon:"pi pi-check",class:"p-button-text",onClick:a[15]||(a[15]=e=>xe("station"))})]),default:Object(l["E"])(()=>[Object(l["j"])("div",le,[ce,Object(l["F"])(Object(l["j"])("span",null,[ne,Object(l["j"])("b",null,Object(l["A"])(me.value.stationName),1),ue],512),[[l["D"],me.value.stationName]])])]),_:1},8,["visible"]),Object(l["m"])(Object(l["C"])(d["a"]),{visible:Oe.value,"onUpdate:visible":a[19]||(a[19]=e=>Oe.value=e),style:{width:"450px"},header:"警告",modal:!0},{footer:Object(l["E"])(()=>[Object(l["m"])(Object(l["C"])(o["a"]),{label:"取消",icon:"pi pi-times",class:"p-button-text",onClick:a[17]||(a[17]=t=>e.deleteDialog=!1)}),Object(l["m"])(Object(l["C"])(o["a"]),{label:"確認",icon:"pi pi-check",class:"p-button-text",onClick:a[18]||(a[18]=e=>xe("nurse"))})]),default:Object(l["E"])(()=>[Object(l["j"])("div",oe,[se,Object(l["F"])(Object(l["j"])("span",null,[ie,Object(l["j"])("b",null,Object(l["A"])(pe.value.nurseName),1),be],512),[[l["D"],pe.value.nurseName]])])]),_:1},8,["visible"])],64))}};a("08f0");const re=de;var je=re,Oe=a("9319");a("098b"),a("e1ae"),a("4121"),a("bddf");const me=Object(l["f"])(je);me.use(Oe["a"]).mount("#app")}});
//# sourceMappingURL=app.892f35b1.js.map